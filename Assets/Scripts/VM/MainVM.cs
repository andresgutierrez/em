
using System;

namespace GB
{
	public class MainVM
	{
		public static void Execute(Core core, long op)
		{
			switch (op)
			{
				case 0:
					Execute0(core);
					break;
				case 1:
					Execute1(core);
					break;
				case 2:
					Execute2(core);
					break;
				case 3:
					Execute3(core);
					break;
				case 4:
					Execute4(core);
					break;
				case 5:
					Execute5(core);
					break;
				case 6:
					Execute6(core);
					break;
				case 7:
					Execute7(core);
					break;
				case 8:
					Execute8(core);
					break;
				case 9:
					Execute9(core);
					break;
				case 10:
					Execute10(core);
					break;
				case 11:
					Execute11(core);
					break;
				case 12:
					Execute12(core);
					break;
				case 13:
					Execute13(core);
					break;
				case 14:
					Execute14(core);
					break;
				case 15:
					Execute15(core);
					break;
				case 16:
					Execute16(core);
					break;
				case 17:
					Execute17(core);
					break;
				case 18:
					Execute18(core);
					break;
				case 19:
					Execute19(core);
					break;
				case 20:
					Execute20(core);
					break;
				case 21:
					Execute21(core);
					break;
				case 22:
					Execute22(core);
					break;
				case 23:
					Execute23(core);
					break;
				case 24:
					Execute24(core);
					break;
				case 25:
					Execute25(core);
					break;
				case 26:
					Execute26(core);
					break;
				case 27:
					Execute27(core);
					break;
				case 28:
					Execute28(core);
					break;
				case 29:
					Execute29(core);
					break;
				case 30:
					Execute30(core);
					break;
				case 31:
					Execute31(core);
					break;
				case 32:
					Execute32(core);
					break;
				case 33:
					Execute33(core);
					break;
				case 34:
					Execute34(core);
					break;
				case 35:
					Execute35(core);
					break;
				case 36:
					Execute36(core);
					break;
				case 37:
					Execute37(core);
					break;
				case 38:
					Execute38(core);
					break;
				case 39:
					Execute39(core);
					break;
				case 40:
					Execute40(core);
					break;
				case 41:
					Execute41(core);
					break;
				case 42:
					Execute42(core);
					break;
				case 43:
					Execute43(core);
					break;
				case 44:
					Execute44(core);
					break;
				case 45:
					Execute45(core);
					break;
				case 46:
					Execute46(core);
					break;
				case 47:
					Execute47(core);
					break;
				case 48:
					Execute48(core);
					break;
				case 49:
					Execute49(core);
					break;
				case 50:
					Execute50(core);
					break;
				case 51:
					Execute51(core);
					break;
				case 52:
					Execute52(core);
					break;
				case 53:
					Execute53(core);
					break;
				case 54:
					Execute54(core);
					break;
				case 55:
					Execute55(core);
					break;
				case 56:
					Execute56(core);
					break;
				case 57:
					Execute57(core);
					break;
				case 58:
					Execute58(core);
					break;
				case 59:
					Execute59(core);
					break;
				case 60:
					Execute60(core);
					break;
				case 61:
					Execute61(core);
					break;
				case 62:
					Execute62(core);
					break;
				case 63:
					Execute63(core);
					break;
				case 64:
					Execute64(core);
					break;
				case 65:
					Execute65(core);
					break;
				case 66:
					Execute66(core);
					break;
				case 67:
					Execute67(core);
					break;
				case 68:
					Execute68(core);
					break;
				case 69:
					Execute69(core);
					break;
				case 70:
					Execute70(core);
					break;
				case 71:
					Execute71(core);
					break;
				case 72:
					Execute72(core);
					break;
				case 73:
					Execute73(core);
					break;
				case 74:
					Execute74(core);
					break;
				case 75:
					Execute75(core);
					break;
				case 76:
					Execute76(core);
					break;
				case 77:
					Execute77(core);
					break;
				case 78:
					Execute78(core);
					break;
				case 79:
					Execute79(core);
					break;
				case 80:
					Execute80(core);
					break;
				case 81:
					Execute81(core);
					break;
				case 82:
					Execute82(core);
					break;
				case 83:
					Execute83(core);
					break;
				case 84:
					Execute84(core);
					break;
				case 85:
					Execute85(core);
					break;
				case 86:
					Execute86(core);
					break;
				case 87:
					Execute87(core);
					break;
				case 88:
					Execute88(core);
					break;
				case 89:
					Execute89(core);
					break;
				case 90:
					Execute90(core);
					break;
				case 91:
					Execute91(core);
					break;
				case 92:
					Execute92(core);
					break;
				case 93:
					Execute93(core);
					break;
				case 94:
					Execute94(core);
					break;
				case 95:
					Execute95(core);
					break;
				case 96:
					Execute96(core);
					break;
				case 97:
					Execute97(core);
					break;
				case 98:
					Execute98(core);
					break;
				case 99:
					Execute99(core);
					break;
				case 100:
					Execute100(core);
					break;
				case 101:
					Execute101(core);
					break;
				case 102:
					Execute102(core);
					break;
				case 103:
					Execute103(core);
					break;
				case 104:
					Execute104(core);
					break;
				case 105:
					Execute105(core);
					break;
				case 106:
					Execute106(core);
					break;
				case 107:
					Execute107(core);
					break;
				case 108:
					Execute108(core);
					break;
				case 109:
					Execute109(core);
					break;
				case 110:
					Execute110(core);
					break;
				case 111:
					Execute111(core);
					break;
				case 112:
					Execute112(core);
					break;
				case 113:
					Execute113(core);
					break;
				case 114:
					Execute114(core);
					break;
				case 115:
					Execute115(core);
					break;
				case 116:
					Execute116(core);
					break;
				case 117:
					Execute117(core);
					break;
				case 118:
					Execute118(core);
					break;
				case 119:
					Execute119(core);
					break;
				case 120:
					Execute120(core);
					break;
				case 121:
					Execute121(core);
					break;
				case 122:
					Execute122(core);
					break;
				case 123:
					Execute123(core);
					break;
				case 124:
					Execute124(core);
					break;
				case 125:
					Execute125(core);
					break;
				case 126:
					Execute126(core);
					break;
				case 127:
					Execute127(core);
					break;
				case 128:
					Execute128(core);
					break;
				case 129:
					Execute129(core);
					break;
				case 130:
					Execute130(core);
					break;
				case 131:
					Execute131(core);
					break;
				case 132:
					Execute132(core);
					break;
				case 133:
					Execute133(core);
					break;
				case 134:
					Execute134(core);
					break;
				case 135:
					Execute135(core);
					break;
				case 136:
					Execute136(core);
					break;
				case 137:
					Execute137(core);
					break;
				case 138:
					Execute138(core);
					break;
				case 139:
					Execute139(core);
					break;
				case 140:
					Execute140(core);
					break;
				case 141:
					Execute141(core);
					break;
				case 142:
					Execute142(core);
					break;
				case 143:
					Execute143(core);
					break;
				case 144:
					Execute144(core);
					break;
				case 145:
					Execute145(core);
					break;
				case 146:
					Execute146(core);
					break;
				case 147:
					Execute147(core);
					break;
				case 148:
					Execute148(core);
					break;
				case 149:
					Execute149(core);
					break;
				case 150:
					Execute150(core);
					break;
				case 151:
					Execute151(core);
					break;
				case 152:
					Execute152(core);
					break;
				case 153:
					Execute153(core);
					break;
				case 154:
					Execute154(core);
					break;
				case 155:
					Execute155(core);
					break;
				case 156:
					Execute156(core);
					break;
				case 157:
					Execute157(core);
					break;
				case 158:
					Execute158(core);
					break;
				case 159:
					Execute159(core);
					break;
				case 160:
					Execute160(core);
					break;
				case 161:
					Execute161(core);
					break;
				case 162:
					Execute162(core);
					break;
				case 163:
					Execute163(core);
					break;
				case 164:
					Execute164(core);
					break;
				case 165:
					Execute165(core);
					break;
				case 166:
					Execute166(core);
					break;
				case 167:
					Execute167(core);
					break;
				case 168:
					Execute168(core);
					break;
				case 169:
					Execute169(core);
					break;
				case 170:
					Execute170(core);
					break;
				case 171:
					Execute171(core);
					break;
				case 172:
					Execute172(core);
					break;
				case 173:
					Execute173(core);
					break;
				case 174:
					Execute174(core);
					break;
				case 175:
					Execute175(core);
					break;
				case 176:
					Execute176(core);
					break;
				case 177:
					Execute177(core);
					break;
				case 178:
					Execute178(core);
					break;
				case 179:
					Execute179(core);
					break;
				case 180:
					Execute180(core);
					break;
				case 181:
					Execute181(core);
					break;
				case 182:
					Execute182(core);
					break;
				case 183:
					Execute183(core);
					break;
				case 184:
					Execute184(core);
					break;
				case 185:
					Execute185(core);
					break;
				case 186:
					Execute186(core);
					break;
				case 187:
					Execute187(core);
					break;
				case 188:
					Execute188(core);
					break;
				case 189:
					Execute189(core);
					break;
				case 190:
					Execute190(core);
					break;
				case 191:
					Execute191(core);
					break;
				case 192:
					Execute192(core);
					break;
				case 193:
					Execute193(core);
					break;
				case 194:
					Execute194(core);
					break;
				case 195:
					Execute195(core);
					break;
				case 196:
					Execute196(core);
					break;
				case 197:
					Execute197(core);
					break;
				case 198:
					Execute198(core);
					break;
				case 199:
					Execute199(core);
					break;
				case 200:
					Execute200(core);
					break;
				case 201:
					Execute201(core);
					break;
				case 202:
					Execute202(core);
					break;
				case 203:
					Execute203(core);
					break;
				case 204:
					Execute204(core);
					break;
				case 205:
					Execute205(core);
					break;
				case 206:
					Execute206(core);
					break;
				case 207:
					Execute207(core);
					break;
				case 208:
					Execute208(core);
					break;
				case 209:
					Execute209(core);
					break;
				case 210:
					Execute210(core);
					break;
				case 211:
					Execute211(core);
					break;
				case 212:
					Execute212(core);
					break;
				case 213:
					Execute213(core);
					break;
				case 214:
					Execute214(core);
					break;
				case 215:
					Execute215(core);
					break;
				case 216:
					Execute216(core);
					break;
				case 217:
					Execute217(core);
					break;
				case 218:
					Execute218(core);
					break;
				case 219:
					Execute219(core);
					break;
				case 220:
					Execute220(core);
					break;
				case 221:
					Execute221(core);
					break;
				case 222:
					Execute222(core);
					break;
				case 223:
					Execute223(core);
					break;
				case 224:
					Execute224(core);
					break;
				case 225:
					Execute225(core);
					break;
				case 226:
					Execute226(core);
					break;
				case 227:
					Execute227(core);
					break;
				case 228:
					Execute228(core);
					break;
				case 229:
					Execute229(core);
					break;
				case 230:
					Execute230(core);
					break;
				case 231:
					Execute231(core);
					break;
				case 232:
					Execute232(core);
					break;
				case 233:
					Execute233(core);
					break;
				case 234:
					Execute234(core);
					break;
				case 235:
					Execute235(core);
					break;
				case 236:
					Execute236(core);
					break;
				case 237:
					Execute237(core);
					break;
				case 238:
					Execute238(core);
					break;
				case 239:
					Execute239(core);
					break;
				case 240:
					Execute240(core);
					break;
				case 241:
					Execute241(core);
					break;
				case 242:
					Execute242(core);
					break;
				case 243:
					Execute243(core);
					break;
				case 244:
					Execute244(core);
					break;
				case 245:
					Execute245(core);
					break;
				case 246:
					Execute246(core);
					break;
				case 247:
					Execute247(core);
					break;
				case 248:
					Execute248(core);
					break;
				case 249:
					Execute249(core);
					break;
				case 250:
					Execute250(core);
					break;
				case 251:
					Execute251(core);
					break;
				case 252:
					Execute252(core);
					break;
				case 253:
					Execute253(core);
					break;
				case 254:
					Execute254(core);
					break;
				case 255:
					Execute255(core);
					break;
			}
		}

		/**
         * Opcode #0x00.
         *
         * NOP
         *
         */
		private static void Execute0(Core core)
		{
			// Do Nothing...
		}

		/**
         * Opcode #0x01.
         *
         * LD BC, nn
         *
         */
		private static void Execute1(Core core)
		{
			core.cpu.registerC = core.memory.Read(core.cpu.programCounter);
			core.cpu.registerB = core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF);
			core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
		}

		/**
         * Opcode #0x02.
         *
         * LD (BC), A
         *
         */
		private static void Execute2(Core core)
		{
			core.memory.Write((core.cpu.registerB << 8) + core.cpu.registerC, core.cpu.registerA);
		}

		/**
         * Opcode #0x03.
         *
         * INC BC
         *
         */
		private static void Execute3(Core core)
		{
			long temp_var = (((core.cpu.registerB << 8) + core.cpu.registerC) + 1);
			core.cpu.registerB = ((temp_var >> 8) & 0xFF);
			core.cpu.registerC = (temp_var & 0xFF);
		}

		/**
         * Opcode #0x04.
         *
         * INC B
         *
         */
		private static void Execute4(Core core)
		{
			core.cpu.registerB = ((core.cpu.registerB + 1) & 0xFF);
			core.cpu.flagZero = (core.cpu.registerB == 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerB & 0xF) == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x05.
         *
         * DEC B
         *
         */
		private static void Execute5(Core core)
		{
			core.cpu.registerB = core.Unsbtub(core.cpu.registerB - 1);
			core.cpu.flagZero = (core.cpu.registerB == 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerB & 0xF) == 0xF);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x06.
         *
         * LD B, n
         *
         */
		private static void Execute6(Core core)
		{
			core.cpu.registerB = core.memory.Read(core.cpu.programCounter);
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
		}

		/**
         * Opcode #0x07.
         *
         * RCLA
         *
         */
		private static void Execute7(Core core)
		{
			core.cpu.flagCarry = ((core.cpu.registerA & 0x80) == 0x80);
			core.cpu.registerA = ((core.cpu.registerA << 1) & 0xFF) | (core.cpu.registerA >> 7);
			core.cpu.flagZero = core.cpu.flagSubtract = core.cpu.flagHalfCarry = false;
		}

		/**
         * Opcode #0x08
         *
         * LD (nn), SP
         *
         */
		private static void Execute8(Core core)
		{
			long temp_var = (core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.programCounter);
			core.memory.Write(temp_var, core.cpu.stackPointer & 0xFF);
			core.memory.Write((temp_var + 1) & 0xFFFF, core.cpu.stackPointer >> 8);
			core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
		}

		/**
         * Opcode #0x09.
         *
         * ADD HL, BC
         *
         */
		private static void Execute9(Core core)
		{
			long n2 = (core.cpu.registerB << 8) + core.cpu.registerC;
			long dirtySum = core.cpu.registersHL + n2;
			core.cpu.flagHalfCarry = ((core.cpu.registersHL & 0xFFF) + (n2 & 0xFFF) > 0xFFF);
			core.cpu.flagCarry = (dirtySum > 0xFFFF);
			core.cpu.registersHL = (dirtySum & 0xFFFF);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x0A.
         *
         * LD A, (BC)
         *
         */
		private static void Execute10(Core core)
		{
			core.cpu.registerA = core.memory.Read((core.cpu.registerB << 8) + core.cpu.registerC);
		}

		/**
         * Opcode #0x0B.
         *
         * DEC BC
         *
         */
		private static void Execute11(Core core)
		{
			long temp_var = core.Unswtuw(((core.cpu.registerB << 8) + core.cpu.registerC) - 1);
			core.cpu.registerB = (temp_var >> 8);
			core.cpu.registerC = (temp_var & 0xFF);
		}

		/**
         * Opcode #0x0C
         *
         * INC C
         *
         */
		private static void Execute12(Core core)
		{
			core.cpu.registerC = ((core.cpu.registerC + 1) & 0xFF);
			core.cpu.flagZero = (core.cpu.registerC == 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerC & 0xF) == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x0D.
         *
         * DEC C
         *
         */
		private static void Execute13(Core core)
		{
			core.cpu.registerC = core.Unsbtub(core.cpu.registerC - 1);
			core.cpu.flagZero = (core.cpu.registerC == 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerC & 0xF) == 0xF);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x0E.
         *
         * LD C, n
         *
         */
		private static void Execute14(Core core)
		{
			core.cpu.registerC = core.memory.Read(core.cpu.programCounter);
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
		}

		/**
         * Opcode #0x0F.
         *
         * RRCA
         *
         */
		private static void Execute15(Core core)
		{
			core.cpu.flagCarry = ((core.cpu.registerA & 1) == 1);
			core.cpu.registerA = (core.cpu.registerA >> 1) + ((core.cpu.registerA & 1) << 7);
			core.cpu.flagZero = core.cpu.flagSubtract = core.cpu.flagHalfCarry = false;
		}

		/**
         * Opcode #0x10.
         *
         * STOP
         *
         */
		private static void Execute16(Core core)
		{
			if (core.cGBC)
			{
				/*TODO: Emulate the speed switch delay:
                Delay Amount:
                16 ms when going to double-speed.
                32 ms when going to single-speed.
                Also, bits 4 and 5 of 0xFF00 should read as set (1), while the switch is in process.
                 */

				// Speed change requested.
				if ((core.memory.memory[0xFF4D] & 0x01) == 0x01)
				{
					//Go back to single speed mode.
					if ((core.memory.memory[0xFF4D] & 0x80) == 0x80)
					{
						// cout("Going into single clock speed mode.", 0);
						core.multiplier = 1;
						core.memory.memory[0xFF4D] &= 0x7F;
					}
					else
					{
						// cout("Going into double clock speed mode.", 0);
						core.multiplier = 2;
						core.memory.memory[0xFF4D] |= 0x80;
					}
					core.memory.memory[0xFF4D] &= 0xFE;
				}
			}
		}

		/**
         * Opcode #0x11.
         *
         * LD DE, nn
         *
         */
		private static void Execute17(Core core)
		{
			core.cpu.registerE = core.memory.Read(core.cpu.programCounter);
			core.cpu.registerD = core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF);
			core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
		}

		/**
         * Opcode #0x12.
         *
         * LD (DE), A
         *
         */
		private static void Execute18(Core core)
		{
			core.memory.Write((core.cpu.registerD << 8) + core.cpu.registerE, core.cpu.registerA);
		}

		/**
         * Opcode #0x13.
         *
         * INC DE
         *
         */
		private static void Execute19(Core core)
		{
			long temp_var = (((core.cpu.registerD << 8) + core.cpu.registerE) + 1);
			core.cpu.registerD = ((temp_var >> 8) & 0xFF);
			core.cpu.registerE = (temp_var & 0xFF);
		}

		/**
         * Opcode #0x14.
         *
         * INC D
         *
         */
		private static void Execute20(Core core)
		{
			core.cpu.registerD = ((core.cpu.registerD + 1) & 0xFF);
			core.cpu.flagZero = (core.cpu.registerD == 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerD & 0xF) == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x15.
         *
         * DEC D
         *
         */
		private static void Execute21(Core core)
		{
			core.cpu.registerD = core.Unsbtub(core.cpu.registerD - 1);
			core.cpu.flagZero = (core.cpu.registerD == 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerD & 0xF) == 0xF);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x16.
         *
         * LD D, n
         *
         */
		private static void Execute22(Core core)
		{
			core.cpu.registerD = core.memory.Read(core.cpu.programCounter);
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
		}

		/**
         * Opcode #0x17.
         *
         * RLA
         *
         */
		private static void Execute23(Core core)
		{
			long carry_flag = (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagCarry = ((core.cpu.registerA & 0x80) == 0x80);
			core.cpu.registerA = ((core.cpu.registerA << 1) & 0xFF) | carry_flag;
			core.cpu.flagZero = core.cpu.flagSubtract = core.cpu.flagHalfCarry = false;
		}

		/**
         * Opcode #0x18.
         *
         * JR n
         *
         */
		private static void Execute24(Core core)
		{
			core.cpu.programCounter = core.Nswtuw(core.cpu.programCounter + core.Usbtsb(core.memory.Read(core.cpu.programCounter)) + 1);
		}

		/**
         * Opcode #0x19.
         *
         * ADD HL, DE
         *
         */
		private static void Execute25(Core core)
		{
			long n2 = (core.cpu.registerD << 8) + core.cpu.registerE;
			long dirtySum = core.cpu.registersHL + n2;
			core.cpu.flagHalfCarry = ((core.cpu.registersHL & 0xFFF) + (n2 & 0xFFF) > 0xFFF);
			core.cpu.flagCarry = (dirtySum > 0xFFFF);
			core.cpu.registersHL = (dirtySum & 0xFFFF);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x1A.
         *
         * LD A, (DE)
         *
         */
		private static void Execute26(Core core)
		{
			core.cpu.registerA = core.memory.Read((core.cpu.registerD << 8) + core.cpu.registerE);
		}

		/**
         * Opcode #0x1B.
         *
         * DEC DE
         *
         */
		private static void Execute27(Core core)
		{
			long temp_var = core.Unswtuw(((core.cpu.registerD << 8) + core.cpu.registerE) - 1);
			core.cpu.registerD = (temp_var >> 8);
			core.cpu.registerE = (temp_var & 0xFF);
		}

		/**
         * Opcode #0x1C.
         *
         * INC E
         *
         */
		private static void Execute28(Core core)
		{
			core.cpu.registerE = ((core.cpu.registerE + 1) & 0xFF);
			core.cpu.flagZero = (core.cpu.registerE == 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerE & 0xF) == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x1D.
         *
         * DEC E
         *
         */
		private static void Execute29(Core core)
		{
			core.cpu.registerE = core.Unsbtub(core.cpu.registerE - 1);
			core.cpu.flagZero = (core.cpu.registerE == 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerE & 0xF) == 0xF);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x1E.
         *
         * LD E, n
         *
         */
		private static void Execute30(Core core)
		{
			core.cpu.registerE = core.memory.Read(core.cpu.programCounter);
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
		}

		/**
         * Opcode #0x1F.
         *
         * RRA
         *
         */
		private static void Execute31(Core core)
		{
			long carry_flag = (long)((core.cpu.flagCarry) ? 0x80 : 0);
			core.cpu.flagCarry = ((core.cpu.registerA & 1) == 1);
			core.cpu.registerA = (core.cpu.registerA >> 1) + carry_flag;
			core.cpu.flagZero = core.cpu.flagSubtract = core.cpu.flagHalfCarry = false;
		}

		/**
         * Opcode #0x20.
         *
         * JR cc, n
         *
         */
		private static void Execute32(Core core)
		{
			if (!core.cpu.flagZero)
			{
				core.cpu.programCounter = core.Nswtuw(core.cpu.programCounter + core.Usbtsb(core.memory.Read(core.cpu.programCounter)) + 1);
				++core.CPUTicks;
			}
			else
			{
				core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
			}
		}

		/**
         * Opcode #0x21.
         *
         * LD HL, nn
         *
         */
		private static void Execute33(Core core)
		{
			core.cpu.registersHL = (core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.programCounter);
			core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
		}

		/**
         * Opcode #0x22.
         *
         * LDI (HL), A
         *
         */
		private static void Execute34(Core core)
		{
			core.memory.Write(core.cpu.registersHL, core.cpu.registerA);
			core.cpu.registersHL = ((core.cpu.registersHL + 1) & 0xFFFF);
		}

		/**
         * Opcode #0x23.
         *
         * INC HL
         *
         */
		private static void Execute35(Core core)
		{
			core.cpu.registersHL = ((core.cpu.registersHL + 1) & 0xFFFF);
		}

		/**
         * Opcode #0x24.
         *
         * INC H
         *
         */
		private static void Execute36(Core core)
		{
			long H = (((core.cpu.registersHL >> 8) + 1) & 0xFF);
			core.cpu.flagZero = (H == 0);
			core.cpu.flagHalfCarry = ((H & 0xF) == 0);
			core.cpu.flagSubtract = false;
			core.cpu.registersHL = (H << 8) + (core.cpu.registersHL & 0xFF);
		}

		/**
         * Opcode #0x25.
         *
         * DEC H
         *
         */
		private static void Execute37(Core core)
		{
			long H = core.Unsbtub((core.cpu.registersHL >> 8) - 1);
			core.cpu.flagZero = (H == 0);
			core.cpu.flagHalfCarry = ((H & 0xF) == 0xF);
			core.cpu.flagSubtract = true;
			core.cpu.registersHL = (H << 8) + (core.cpu.registersHL & 0xFF);
		}

		/**
         * Opcode #0x26.
         *
         * LD H, n
         *
         */
		private static void Execute38(Core core)
		{
			core.cpu.registersHL = (core.memory.Read(core.cpu.programCounter) << 8) + (core.cpu.registersHL & 0xFF);
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
		}

		/**
         * Opcode #0x27.
         *
         * DAA
         *
         */
		private static void Execute39(Core core)
		{
			long temp_var = core.cpu.registerA;
			if (core.cpu.flagCarry)
				temp_var |= 0x100;
			if (core.cpu.flagHalfCarry)
				temp_var |= 0x200;
			if (core.cpu.flagSubtract)
				temp_var |= 0x400;
			core.cpu.registerA = (temp_var = Data.DAATable[temp_var]) >> 8;
			core.cpu.flagZero = ((temp_var & 0x80) == 0x80);
			core.cpu.flagSubtract = ((temp_var & 0x40) == 0x40);
			core.cpu.flagHalfCarry = ((temp_var & 0x20) == 0x20);
			core.cpu.flagCarry = ((temp_var & 0x10) == 0x10);
		}

		/**
         * Opcode #0x28.
         *
         * JR cc, n
         *
         */
		private static void Execute40(Core core)
		{
			if (core.cpu.flagZero)
			{
				core.cpu.programCounter = core.Nswtuw(core.cpu.programCounter + core.Usbtsb(core.memory.Read(core.cpu.programCounter)) + 1);
				++core.CPUTicks;
			}
			else
				core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
		}

		/**
         * Opcode #0x29.
         *
         * ADD HL, HL
         *
         */
		private static void Execute41(Core core)
		{
			core.cpu.flagHalfCarry = ((core.cpu.registersHL & 0xFFF) > 0x7FF);
			core.cpu.flagCarry = (core.cpu.registersHL > 0x7FFF);
			core.cpu.registersHL = ((2 * core.cpu.registersHL) & 0xFFFF);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x2A.
         *
         * LDI A, (HL)
         *
         */
		private static void Execute42(Core core)
		{
			core.cpu.registerA = core.memory.Read(core.cpu.registersHL);
			core.cpu.registersHL = ((core.cpu.registersHL + 1) & 0xFFFF);
		}

		/**
         * Opcode #0x2B.
         *
         * DEC HL
         *
         */
		private static void Execute43(Core core)
		{
			core.cpu.registersHL = core.Unswtuw(core.cpu.registersHL - 1);
		}

		/**
         * Opcode #0x2C.
         *
         * INC L
         *
         */
		private static void Execute44(Core core)
		{
			long L = ((core.cpu.registersHL + 1) & 0xFF);
			core.cpu.flagZero = (L == 0);
			core.cpu.flagHalfCarry = ((L & 0xF) == 0);
			core.cpu.flagSubtract = false;
			core.cpu.registersHL = (core.cpu.registersHL & 0xFF00) + L;
		}

		/**
         * Opcode #0x2D.
         *
         * DEC L
         *
         */
		private static void Execute45(Core core)
		{
			long L = core.Unsbtub((core.cpu.registersHL & 0xFF) - 1);
			core.cpu.flagZero = (L == 0);
			core.cpu.flagHalfCarry = ((L & 0xF) == 0xF);
			core.cpu.flagSubtract = true;
			core.cpu.registersHL = (core.cpu.registersHL & 0xFF00) + L;
		}

		/**
         * Opcode #0x2E.
         *
         * LD L, n
         *
         */
		private static void Execute46(Core core)
		{
			core.cpu.registersHL = (core.cpu.registersHL & 0xFF00) + core.memory.Read(core.cpu.programCounter);
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
		}

		/**
         * Opcode #0x2F.
         *
         * CPL
         *
         */
		private static void Execute47(Core core)
		{
			core.cpu.registerA ^= 0xFF;
			core.cpu.flagSubtract = core.cpu.flagHalfCarry = true;
		}

		/**
         * Opcode #0x30.
         *
         * JR cc, n
         *
         */
		private static void Execute48(Core core)
		{
			if (!core.cpu.flagCarry)
			{
				core.cpu.programCounter = core.Nswtuw(core.cpu.programCounter + core.Usbtsb(core.memory.Read(core.cpu.programCounter)) + 1);
				++core.CPUTicks;
			}
			else
			{
				core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
			}
		}

		/**
         * Opcode #0x31.
         *
         * LD SP, nn
         *
         */
		private static void Execute49(Core core)
		{
			core.cpu.stackPointer = (core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.programCounter);
			core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
		}

		/**
         * Opcode #0x32.
         *
         * LDD (HL), A
         *
         */
		private static void Execute50(Core core)
		{
			core.memory.Write(core.cpu.registersHL, core.cpu.registerA);
			core.cpu.registersHL = core.Unswtuw(core.cpu.registersHL - 1);
		}

		/**
         * Opcode #0x33.
         *
         * INC SP
         *
         */
		private static void Execute51(Core core)
		{
			core.cpu.stackPointer = (core.cpu.stackPointer + 1) & 0xFFFF;
		}

		/**
         * Opcode #0x34.
         *
         * INC (HL)
         *
         */
		private static void Execute52(Core core)
		{
			long temp_var = ((core.memory.Read(core.cpu.registersHL) + 1) & 0xFF);
			core.cpu.flagZero = (temp_var == 0);
			core.cpu.flagHalfCarry = ((temp_var & 0xF) == 0);
			core.cpu.flagSubtract = false;
			core.memory.Write(core.cpu.registersHL, temp_var);
		}

		/**
         * Opcode #0x35.
         *
         * DEC (HL)
         *
         */
		private static void Execute53(Core core)
		{
			long temp_var = core.Unsbtub(core.memory.Read(core.cpu.registersHL) - 1);
			core.cpu.flagZero = (temp_var == 0);
			core.cpu.flagHalfCarry = ((temp_var & 0xF) == 0xF);
			core.cpu.flagSubtract = true;
			core.memory.Write(core.cpu.registersHL, temp_var);
		}

		/**
         * Opcode #0x36.
         *
         * LD (HL), n
         *
         */
		private static void Execute54(Core core)
		{
			core.memory.Write(core.cpu.registersHL, core.memory.Read(core.cpu.programCounter));
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
		}

		/**
         * Opcode #0x37.
         *
         * SCF
         *
         */
		private static void Execute55(Core core)
		{
			core.cpu.flagCarry = true;
			core.cpu.flagSubtract = core.cpu.flagHalfCarry = false;
		}

		/**
         * Opcode #0x38.
         *
         * JR cc, n
         *
         */
		private static void Execute56(Core core)
		{
			if (core.cpu.flagCarry)
			{
				core.cpu.programCounter = core.Nswtuw(core.cpu.programCounter + core.Usbtsb(core.memory.Read(core.cpu.programCounter)) + 1);
				++core.CPUTicks;
			}
			else
			{
				core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
			}
		}

		/**
         * Opcode #0x39.
         *
         * ADD HL, SP
         *
         */
		private static void Execute57(Core core)
		{
			long dirtySum = core.cpu.registersHL + core.cpu.stackPointer;
			core.cpu.flagHalfCarry = ((core.cpu.registersHL & 0xFFF) + (core.cpu.stackPointer & 0xFFF) > 0xFFF);
			core.cpu.flagCarry = (dirtySum > 0xFFFF);
			core.cpu.registersHL = (dirtySum & 0xFFFF);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x3A.
         *
         *  LDD A, (HL)
         *
         */
		private static void Execute58(Core core)
		{
			core.cpu.registerA = core.memory.Read(core.cpu.registersHL);
			core.cpu.registersHL = core.Unswtuw(core.cpu.registersHL - 1);
		}

		/**
         * Opcode #0x3B.
         *
         * DEC SP
         *
         */
		private static void Execute59(Core core)
		{
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
		}

		/**
         * Opcode #0x3C.
         *
         * INC A
         *
         */
		private static void Execute60(Core core)
		{
			core.cpu.registerA = ((core.cpu.registerA + 1) & 0xFF);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x3D.
         *
         * DEC A
         *
         */
		private static void Execute61(Core core)
		{
			core.cpu.registerA = core.Unsbtub(core.cpu.registerA - 1);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) == 0xF);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x3E.
         *
         * LD A, n
         *
         */
		private static void Execute62(Core core)
		{
			core.cpu.registerA = core.memory.Read(core.cpu.programCounter);
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
		}

		/**
         * Opcode #0x3F.
         *
         * CCF
         *
         */
		private static void Execute63(Core core)
		{
			core.cpu.flagCarry = !core.cpu.flagCarry;
			core.cpu.flagSubtract = core.cpu.flagHalfCarry = false;
		}

		/**
         * Opcode #0x40.
         *
         * LD B, B
         *
         */
		private static void Execute64(Core core)
		{
			//Do nothing...
		}

		/**
         * Opcode #0x41.
         *
         * LD B, C
         *
         */
		private static void Execute65(Core core)
		{
			core.cpu.registerB = core.cpu.registerC;
		}

		/**
         * Opcode #0x42.
         *
         * LD B, D
         *
         */
		private static void Execute66(Core core)
		{
			core.cpu.registerB = core.cpu.registerD;
		}

		/**
         * Opcode #0x43.
         *
         * LD B, E
         *
         */
		private static void Execute67(Core core)
		{
			core.cpu.registerB = core.cpu.registerE;
		}

		/**
         * Opcode #0x44.
         *
         * LD B, H
         *
         */
		private static void Execute68(Core core)
		{
			core.cpu.registerB = (core.cpu.registersHL >> 8);
		}

		/**
         * Opcode #0x45.
         *
         * LD B, L
         *
         */
		private static void Execute69(Core core)
		{
			core.cpu.registerB = (core.cpu.registersHL & 0xFF);
		}

		/**
         * Opcode #0x46.
         *
         * LD B, (HL)
         *
         */
		private static void Execute70(Core core)
		{
			core.cpu.registerB = core.memory.Read(core.cpu.registersHL);
		}

		/**
         * Opcode #0x47.
         *
         * LD B, A
         *
         */
		private static void Execute71(Core core)
		{
			core.cpu.registerB = core.cpu.registerA;
		}

		/**
         * Opcode #0x48.
         *
         * LD C, B
         *
         */
		private static void Execute72(Core core)
		{
			core.cpu.registerC = core.cpu.registerB;
		}

		/**
         * Opcode #0x49.
         *
         * LD C, C
         *
         */
		private static void Execute73(Core core)
		{
			//Do nothing...
		}

		/**
         * Opcode #0x4A.
         *
         * LD C, D
         *
         */
		private static void Execute74(Core core)
		{
			core.cpu.registerC = core.cpu.registerD;
		}

		/**
         * Opcode #0x4B.
         *
         * LD C, E
         *
         */
		private static void Execute75(Core core)
		{
			core.cpu.registerC = core.cpu.registerE;
		}

		/**
         * Opcode #0x4C.
         *
         * LD C, H
         *
         */
		private static void Execute76(Core core)
		{
			core.cpu.registerC = (core.cpu.registersHL >> 8);
		}

		/**
         * Opcode #0x4D.
         *
         * LD C, L
         *
         */
		private static void Execute77(Core core)
		{
			core.cpu.registerC = (core.cpu.registersHL & 0xFF);
		}

		/**
         * Opcode #0x4E.
         *
         * LD C, (HL)
         *
         */
		private static void Execute78(Core core)
		{
			core.cpu.registerC = core.memory.Read(core.cpu.registersHL);
		}

		/**
         * Opcode #0x4F.
         *
         * LD C, A
         *
         */
		private static void Execute79(Core core)
		{
			core.cpu.registerC = core.cpu.registerA;
		}

		/**
         * Opcode #0x50.
         *
         * LD D, B
         *
         */
		private static void Execute80(Core core)
		{
			core.cpu.registerD = core.cpu.registerB;
		}

		/**
         * Opcode #0x51.
         *
         * LD D, C
         *
         */
		private static void Execute81(Core core)
		{
			core.cpu.registerD = core.cpu.registerC;
		}

		/**
         * Opcode #0x52.
         *
         * LD D, D
         *
         */
		private static void Execute82(Core core)
		{
			//Do nothing...
		}

		/**
         * Opcode #0x53.
         *
         * LD D, E
         *
         */
		private static void Execute83(Core core)
		{
			core.cpu.registerD = core.cpu.registerE;
		}

		/**
         * Opcode #0x54.
         *
         * LD D, H
         *
         */
		private static void Execute84(Core core)
		{
			core.cpu.registerD = (core.cpu.registersHL >> 8);
		}

		/**
         * Opcode #0x55.
         *
         * LD D, L
         *
         */
		private static void Execute85(Core core)
		{
			core.cpu.registerD = (core.cpu.registersHL & 0xFF);
		}

		/**
         * Opcode #0x56.
         *
         * LD D, (HL)
         *
         */
		private static void Execute86(Core core)
		{
			core.cpu.registerD = core.memory.Read(core.cpu.registersHL);
		}

		/**
         * Opcode #0x57.
         *
         * LD D, A
         *
         */
		private static void Execute87(Core core)
		{
			core.cpu.registerD = core.cpu.registerA;
		}

		/**
         * Opcode #0x58.
         *
         * LD E, B
         *
         */
		private static void Execute88(Core core)
		{
			core.cpu.registerE = core.cpu.registerB;
		}

		/**
         * Opcode #0x59.
         *
         * LD E, C
         *
         */
		private static void Execute89(Core core)
		{
			core.cpu.registerE = core.cpu.registerC;
		}

		/**
         * Opcode #0x5A.
         *
         * LD E, D
         *
         */
		private static void Execute90(Core core)
		{
			core.cpu.registerE = core.cpu.registerD;
		}

		/**
         * Opcode #0x5B.
         *
         * LD E, E
         *
         */
		private static void Execute91(Core core)
		{
			//Do nothing...
		}

		/**
         * Opcode #0x5C.
         *
         * LD E, H
         *
         */
		private static void Execute92(Core core)
		{
			core.cpu.registerE = (core.cpu.registersHL >> 8);
		}

		/**
         * Opcode #0x5D.
         *
         * LD E, L
         *
         */
		private static void Execute93(Core core)
		{
			core.cpu.registerE = (core.cpu.registersHL & 0xFF);
		}

		/**
         * Opcode #0x5E.
         *
         * LD E, (HL)
         *
         */
		private static void Execute94(Core core)
		{
			core.cpu.registerE = core.memory.Read(core.cpu.registersHL);
		}

		/**
         * Opcode #0x5F.
         *
         * LD E, A
         *
         */
		private static void Execute95(Core core)
		{
			core.cpu.registerE = core.cpu.registerA;
		}

		/**
         * Opcode #0x60.
         *
         * LD H, B
         *
         */
		private static void Execute96(Core core)
		{
			core.cpu.registersHL = (core.cpu.registerB << 8) + (core.cpu.registersHL & 0xFF);
		}

		/**
         * Opcode #0x61.
         *
         * LD H, C
         *
         */
		private static void Execute97(Core core)
		{
			core.cpu.registersHL = (core.cpu.registerC << 8) + (core.cpu.registersHL & 0xFF);
		}

		/**
         * Opcode #0x62.
         *
         * LD H, D
         *
         */
		private static void Execute98(Core core)
		{
			core.cpu.registersHL = (core.cpu.registerD << 8) + (core.cpu.registersHL & 0xFF);
		}

		/**
         * Opcode #0x63.
         *
         * LD H, E
         *
         */
		private static void Execute99(Core core)
		{
			core.cpu.registersHL = (core.cpu.registerE << 8) + (core.cpu.registersHL & 0xFF);
		}

		/**
         * Opcode #0x64.
         *
         * LD H, H
         *
         */
		private static void Execute100(Core core)
		{
			//Do nothing...
		}

		/**
         * Opcode #0x65.
         *
         * LD H, L
         *
         */
		private static void Execute101(Core core)
		{
			core.cpu.registersHL = ((core.cpu.registersHL & 0xFF) << 8) + (core.cpu.registersHL & 0xFF);
		}

		/**
         * Opcode #0x66.
         *
         * LD H, (HL)
         *
         */
		private static void Execute102(Core core)
		{
			core.cpu.registersHL = (core.memory.Read(core.cpu.registersHL) << 8) + (core.cpu.registersHL & 0xFF);
		}

		/**
         * Opcode #0x67.
         *
         * LD H, A
         *
         */
		private static void Execute103(Core core)
		{
			core.cpu.registersHL = (core.cpu.registerA << 8) + (core.cpu.registersHL & 0xFF);
		}

		/**
         * Opcode #0x68.
         *
         * LD L, B
         *
         */
		private static void Execute104(Core core)
		{
			core.cpu.registersHL = (core.cpu.registersHL & 0xFF00) + core.cpu.registerB;
		}

		/**
         * Opcode #0x69.
         *
         * LD L, C
         *
         */
		private static void Execute105(Core core)
		{
			core.cpu.registersHL = (core.cpu.registersHL & 0xFF00) + core.cpu.registerC;
		}

		/**
         * Opcode #0x6A.
         *
         * LD L, D
         *
         */
		private static void Execute106(Core core)
		{
			core.cpu.registersHL = (core.cpu.registersHL & 0xFF00) + core.cpu.registerD;
		}

		/**
         * Opcode #0x6B.
         *
         * LD L, E
         *
         */
		private static void Execute107(Core core)
		{
			core.cpu.registersHL = (core.cpu.registersHL & 0xFF00) + core.cpu.registerE;
		}

		/**
         * Opcode #0x6C.
         *
         * LD L, H
         *
         */
		private static void Execute108(Core core)
		{
			core.cpu.registersHL = (core.cpu.registersHL & 0xFF00) + (core.cpu.registersHL >> 8);
		}

		/**
         * Opcode #0x6D.
         *
         * LD L, L
         *
         */
		private static void Execute109(Core core)
		{
			//Do nothing...
		}

		/**
         * Opcode #0x6E.
         *
         * LD L, (HL)
         *
         */
		private static void Execute110(Core core)
		{
			core.cpu.registersHL = (core.cpu.registersHL & 0xFF00) + core.memory.Read(core.cpu.registersHL);
		}

		/**
         * Opcode #0x6F.
         *
         * LD L, A
         *
         */
		private static void Execute111(Core core)
		{
			core.cpu.registersHL = (core.cpu.registersHL & 0xFF00) + core.cpu.registerA;
		}

		/**
         * Opcode #0x70.
         *
         * LD (HL), B
         *
         */
		private static void Execute112(Core core)
		{
			core.memory.Write(core.cpu.registersHL, core.cpu.registerB);
		}

		/**
         * Opcode #0x71.
         *
         * LD (HL), C
         *
         */
		private static void Execute113(Core core)
		{
			core.memory.Write(core.cpu.registersHL, core.cpu.registerC);
		}

		/**
         * Opcode #0x72.
         *
         * LD (HL), D
         *
         */
		private static void Execute114(Core core)
		{
			core.memory.Write(core.cpu.registersHL, core.cpu.registerD);
		}

		/**
         * Opcode #0x73.
         *
         * LD (HL), E
         *
         */
		private static void Execute115(Core core)
		{
			core.memory.Write(core.cpu.registersHL, core.cpu.registerE);
		}

		/**
         * Opcode #0x74.
         *
         * LD (HL), H
         *
         */
		private static void Execute116(Core core)
		{
			core.memory.Write(core.cpu.registersHL, (core.cpu.registersHL >> 8));
		}

		/**
         * Opcode #0x75.
         *
         * LD (HL), L
         *
         */
		private static void Execute117(Core core)
		{
			core.memory.Write(core.cpu.registersHL, (core.cpu.registersHL & 0xFF));
		}

		/**
         * Opcode #0x76.
         *
         * HALT
         *
         * @param \GameBoy\Core core
         * @throws Exception
         */
		private static void Execute118(Core core)
		{
			if (core.untilEnable == 1)
			{
				/*VBA-M says this fixes Torpedo Range (Seems to work):
                Involves an edge case where an EI is placed right before a HALT.
                EI in this case actually is immediate, so we adjust (Hacky?).*/
				core.cpu.programCounter = core.Nswtuw(core.cpu.programCounter - 1);
			}
			else
			{
				if (!core.halt && !core.IME && !core.cGBC && (core.memory.memory[0xFF0F] & core.memory.memory[0xFFFF] & 0x1F) > 0)
					core.skipPCIncrement = true;

				core.halt = true;
				while (core.halt && (core.stopEmulator & 1) == 0)
				{
					/*We're hijacking the main interpreter loop to do this dirty business
                    in order to not slow down the main interpreter loop code with halt state handling.*/
					long bitShift = 0;
					long testbit = 1;
					long interrupts = core.memory.memory[0xFFFF] & core.memory.memory[0xFF0F];
					while (bitShift < 5)
					{
						//Check to see if an interrupt is enabled AND requested.
						if ((testbit & interrupts) == testbit)
						{
							core.halt = false; //Get out of halt state if in halt state.
							return; //Let the main interrupt handler compute the interrupt.
						}
						testbit = 1 << (int)(++bitShift);
					}
					core.CPUTicks = 1; //1 machine cycle under HALT...
									   //Timing:
					core.UpdateCore();
				}

				//Throw an error on purpose to exit out of the loop.
				throw new Exception("HALT_OVERRUN");
			}
		}

		/**
         * Opcode #0x77.
         *
         * LD (HL), A
         *
         */
		private static void Execute119(Core core)
		{
			core.memory.Write(core.cpu.registersHL, core.cpu.registerA);
		}

		/**
         * Opcode #0x78.
         *
         * LD A, B
         *
         */
		private static void Execute120(Core core)
		{
			core.cpu.registerA = core.cpu.registerB;
		}

		/**
         * Opcode #0x79.
         *
         * LD A, C
         *
         */
		private static void Execute121(Core core)
		{
			core.cpu.registerA = core.cpu.registerC;
		}

		/**
         * Opcode #0x7A.
         *
         * LD A, D
         *
         */
		private static void Execute122(Core core)
		{
			core.cpu.registerA = core.cpu.registerD;
		}

		/**
         * Opcode #0x7B.
         *
         * LD A, E
         *
         */
		private static void Execute123(Core core)
		{
			core.cpu.registerA = core.cpu.registerE;
		}

		/**
         * Opcode #0x7C.
         *
         * LD A, H
         *
         */
		private static void Execute124(Core core)
		{
			core.cpu.registerA = (core.cpu.registersHL >> 8);
		}

		/**
         * Opcode #0x7D.
         *
         * LD A, L
         *
         */
		private static void Execute125(Core core)
		{
			core.cpu.registerA = (core.cpu.registersHL & 0xFF);
		}

		/**
         * Opcode #0x7E.
         *
         * LD, A, (HL)
         *
         */
		private static void Execute126(Core core)
		{
			core.cpu.registerA = core.memory.Read(core.cpu.registersHL);
		}

		/**
         * Opcode #0x7F.
         *
         * LD A, A
         *
         */
		private static void Execute127(Core core)
		{
			//Do Nothing...
		}

		/**
         * Opcode #0x80.
         *
         * ADD A, B
         *
         */
		private static void Execute128(Core core)
		{
			long dirtySum = core.cpu.registerA + core.cpu.registerB;
			core.cpu.flagHalfCarry = (dirtySum & 0xF) < (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x81.
         *
         * ADD A, C
         *
         */
		private static void Execute129(Core core)
		{
			long dirtySum = core.cpu.registerA + core.cpu.registerC;
			core.cpu.flagHalfCarry = (dirtySum & 0xF) < (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x82.
         *
         * ADD A, D
         *
         */
		private static void Execute130(Core core)
		{
			long dirtySum = core.cpu.registerA + core.cpu.registerD;
			core.cpu.flagHalfCarry = (dirtySum & 0xF) < (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x83.
         *
         * ADD A, E
         *
         */
		private static void Execute131(Core core)
		{
			long dirtySum = core.cpu.registerA + core.cpu.registerE;
			core.cpu.flagHalfCarry = (dirtySum & 0xF) < (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x84.
         *
         * ADD A, H
         *
         */
		private static void Execute132(Core core)
		{
			long dirtySum = core.cpu.registerA + (core.cpu.registersHL >> 8);
			core.cpu.flagHalfCarry = (dirtySum & 0xF) < (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x85.
         *
         * ADD A, L
         *
         */
		private static void Execute133(Core core)
		{
			long dirtySum = core.cpu.registerA + (core.cpu.registersHL & 0xFF);
			core.cpu.flagHalfCarry = (dirtySum & 0xF) < (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x86.
         *
         * ADD A, (HL)
         *
         */
		private static void Execute134(Core core)
		{
			long dirtySum = core.cpu.registerA + core.memory.Read(core.cpu.registersHL);
			core.cpu.flagHalfCarry = (dirtySum & 0xF) < (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x87.
         *
         * ADD A, A
         *
         */
		private static void Execute135(Core core)
		{
			long dirtySum = core.cpu.registerA * 2;
			core.cpu.flagHalfCarry = (dirtySum & 0xF) < (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x88.
         *
         * ADC A, B
         *
         */
		private static void Execute136(Core core)
		{
			long dirtySum = core.cpu.registerA + core.cpu.registerB + (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) + (core.cpu.registerB & 0xF) + ((core.cpu.flagCarry) ? 1 : 0) > 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x89.
         *
         * ADC A, C
         *
         */
		private static void Execute137(Core core)
		{
			long dirtySum = core.cpu.registerA + core.cpu.registerC + (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) + (core.cpu.registerC & 0xF) + ((core.cpu.flagCarry) ? 1 : 0) > 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x8A.
         *
         * ADC A, D
         *
         */
		private static void Execute138(Core core)
		{
			long dirtySum = core.cpu.registerA + core.cpu.registerD + (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) + (core.cpu.registerD & 0xF) + ((core.cpu.flagCarry) ? 1 : 0) > 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x8B.
         *
         * ADC A, E
         *
         */
		private static void Execute139(Core core)
		{
			long dirtySum = core.cpu.registerA + core.cpu.registerE + (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) + (core.cpu.registerE & 0xF) + ((core.cpu.flagCarry) ? 1 : 0) > 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x8C.
         *
         * ADC A, H
         *
         */
		private static void Execute140(Core core)
		{
			long tempValue = (core.cpu.registersHL >> 8);
			long dirtySum = core.cpu.registerA + tempValue + (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) + (tempValue & 0xF) + ((core.cpu.flagCarry) ? 1 : 0) > 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x8D.
         *
         * ADC A, L
         *
         */
		private static void Execute141(Core core)
		{
			long tempValue = (core.cpu.registersHL & 0xFF);
			long dirtySum = core.cpu.registerA + tempValue + (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) + (tempValue & 0xF) + ((core.cpu.flagCarry) ? 1 : 0) > 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x8E.
         *
         * ADC A, (HL)
         *
         */
		private static void Execute142(Core core)
		{
			long tempValue = core.memory.Read(core.cpu.registersHL);
			long dirtySum = core.cpu.registerA + tempValue + (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) + (tempValue & 0xF) + ((core.cpu.flagCarry) ? 1 : 0) > 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x8F.
         *
         * ADC A, A
         *
         */
		private static void Execute143(Core core)
		{
			long dirtySum = (core.cpu.registerA * 2) + (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) + (core.cpu.registerA & 0xF) + ((core.cpu.flagCarry) ? 1 : 0) > 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0x90.
         *
         * SUB A, B
         *
         */
		private static void Execute144(Core core)
		{
			long dirtySum = core.cpu.registerA - core.cpu.registerB;
			core.cpu.flagHalfCarry = (core.cpu.registerA & 0xF) < (core.cpu.registerB & 0xF);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.registerA = core.Unsbtub(dirtySum);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x91.
         *
         * SUB A, C
         *
         */
		private static void Execute145(Core core)
		{
			long dirtySum = core.cpu.registerA - core.cpu.registerC;
			core.cpu.flagHalfCarry = (core.cpu.registerA & 0xF) < (core.cpu.registerC & 0xF);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.registerA = core.Unsbtub(dirtySum);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x92.
         *
         * SUB A, D
         *
         */
		private static void Execute146(Core core)
		{
			long dirtySum = core.cpu.registerA - core.cpu.registerD;
			core.cpu.flagHalfCarry = (core.cpu.registerA & 0xF) < (core.cpu.registerD & 0xF);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.registerA = core.Unsbtub(dirtySum);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x93.
         *
         * SUB A, E
         *
         */
		private static void Execute147(Core core)
		{
			long dirtySum = core.cpu.registerA - core.cpu.registerE;
			core.cpu.flagHalfCarry = (core.cpu.registerA & 0xF) < (core.cpu.registerE & 0xF);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.registerA = core.Unsbtub(dirtySum);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x94.
         *
         * SUB A, H
         *
         */
		private static void Execute148(Core core)
		{
			long temp_var = core.cpu.registersHL >> 8;
			long dirtySum = core.cpu.registerA - temp_var;
			core.cpu.flagHalfCarry = (core.cpu.registerA & 0xF) < (temp_var & 0xF);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.registerA = core.Unsbtub(dirtySum);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x95.
         *
         * SUB A, L
         *
         */
		private static void Execute149(Core core)
		{
			long dirtySum = core.cpu.registerA - (core.cpu.registersHL & 0xFF);
			core.cpu.flagHalfCarry = (core.cpu.registerA & 0xF) < (core.cpu.registersHL & 0xF);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.registerA = core.Unsbtub(dirtySum);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x96.
         *
         * SUB A, (HL)
         *
         */
		private static void Execute150(Core core)
		{
			long temp_var = core.memory.Read(core.cpu.registersHL);
			long dirtySum = core.cpu.registerA - temp_var;
			core.cpu.flagHalfCarry = (core.cpu.registerA & 0xF) < (temp_var & 0xF);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.registerA = core.Unsbtub(dirtySum);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x97.
         *
         * SUB A, A
         *
         */
		private static void Execute151(Core core)
		{
			//number - same number == 0
			core.cpu.registerA = 0;
			core.cpu.flagHalfCarry = core.cpu.flagCarry = false;
			core.cpu.flagZero = core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x98.
         *
         * SBC A, B
         *
         */
		private static void Execute152(Core core)
		{
			long dirtySum = core.cpu.registerA - core.cpu.registerB - (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) - (core.cpu.registerB & 0xF) - ((core.cpu.flagCarry) ? 1 : 0) < 0);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.registerA = core.Unsbtub(dirtySum);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x99.
         *
         * SBC A, C
         *
         */
		private static void Execute153(Core core)
		{
			long dirtySum = core.cpu.registerA - core.cpu.registerC - (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) - (core.cpu.registerC & 0xF) - ((core.cpu.flagCarry) ? 1 : 0) < 0);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.registerA = core.Unsbtub(dirtySum);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x9A.
         *
         * SBC A, D
         *
         */
		private static void Execute154(Core core)
		{
			long dirtySum = core.cpu.registerA - core.cpu.registerD - (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) - (core.cpu.registerD & 0xF) - ((core.cpu.flagCarry) ? 1 : 0) < 0);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.registerA = core.Unsbtub(dirtySum);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x9B.
         *
         * SBC A, E
         *
         */
		private static void Execute155(Core core)
		{
			long dirtySum = core.cpu.registerA - core.cpu.registerE - (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) - (core.cpu.registerE & 0xF) - ((core.cpu.flagCarry) ? 1 : 0) < 0);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.registerA = core.Unsbtub(dirtySum);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x9C.
         *
         * SBC A, H
         *
         */
		private static void Execute156(Core core)
		{
			long temp_var = core.cpu.registersHL >> 8;
			long dirtySum = core.cpu.registerA - temp_var - (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) - (temp_var & 0xF) - ((core.cpu.flagCarry) ? 1 : 0) < 0);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.registerA = core.Unsbtub(dirtySum);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x9D.
         *
         * SBC A, L
         *
         */
		private static void Execute157(Core core)
		{
			long dirtySum = core.cpu.registerA - (core.cpu.registersHL & 0xFF) - (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) - (core.cpu.registersHL & 0xF) - ((core.cpu.flagCarry) ? 1 : 0) < 0);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.registerA = core.Unsbtub(dirtySum);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x9E.
         *
         * SBC A, (HL)
         *
         */
		private static void Execute158(Core core)
		{
			long temp_var = core.memory.Read(core.cpu.registersHL);
			long dirtySum = core.cpu.registerA - temp_var - (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) - (temp_var & 0xF) - ((core.cpu.flagCarry) ? 1 : 0) < 0);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.registerA = core.Unsbtub(dirtySum);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0x9F.
         *
         * SBC A, A
         *
         */
		private static void Execute159(Core core)
		{
			//Optimized SBC A:
			if (core.cpu.flagCarry)
			{
				core.cpu.flagZero = false;
				core.cpu.flagSubtract = core.cpu.flagHalfCarry = core.cpu.flagCarry = true;
				core.cpu.registerA = 0xFF;
			}
			else
			{
				core.cpu.flagHalfCarry = core.cpu.flagCarry = false;
				core.cpu.flagSubtract = core.cpu.flagZero = true;
				core.cpu.registerA = 0;
			}
		}

		/**
         * Opcode #0xA0.
         *
         * AND B
         *
         */
		private static void Execute160(Core core)
		{
			core.cpu.registerA &= core.cpu.registerB;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagHalfCarry = true;
			core.cpu.flagSubtract = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xA1.
         *
         * AND C
         *
         */
		private static void Execute161(Core core)
		{
			core.cpu.registerA &= core.cpu.registerC;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagHalfCarry = true;
			core.cpu.flagSubtract = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xA2.
         *
         * AND D
         *
         */
		private static void Execute162(Core core)
		{
			core.cpu.registerA &= core.cpu.registerD;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagHalfCarry = true;
			core.cpu.flagSubtract = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xA3.
         *
         * AND E
         *
         */
		private static void Execute163(Core core)
		{
			core.cpu.registerA &= core.cpu.registerE;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagHalfCarry = true;
			core.cpu.flagSubtract = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xA4.
         *
         * AND H
         *
         */
		private static void Execute164(Core core)
		{
			core.cpu.registerA &= (core.cpu.registersHL >> 8);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagHalfCarry = true;
			core.cpu.flagSubtract = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xA5.
         *
         * AND L
         *
         */
		private static void Execute165(Core core)
		{
			core.cpu.registerA &= (core.cpu.registersHL & 0xFF);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagHalfCarry = true;
			core.cpu.flagSubtract = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xA6.
         *
         * AND (HL)
         *
         */
		private static void Execute166(Core core)
		{
			core.cpu.registerA &= core.memory.Read(core.cpu.registersHL);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagHalfCarry = true;
			core.cpu.flagSubtract = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xA7.
         *
         * AND A
         *
         */
		private static void Execute167(Core core)
		{
			//number & same number = same number
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagHalfCarry = true;
			core.cpu.flagSubtract = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xA8.
         *
         * XOR B
         *
         */
		private static void Execute168(Core core)
		{
			core.cpu.registerA ^= core.cpu.registerB;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = core.cpu.flagHalfCarry = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xA9.
         *
         * XOR C
         *
         */
		private static void Execute169(Core core)
		{
			core.cpu.registerA ^= core.cpu.registerC;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = core.cpu.flagHalfCarry = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xAA.
         *
         * XOR D
         *
         */
		private static void Execute170(Core core)
		{
			core.cpu.registerA ^= core.cpu.registerD;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = core.cpu.flagHalfCarry = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xAB.
         *
         * XOR E
         *
         */
		private static void Execute171(Core core)
		{
			core.cpu.registerA ^= core.cpu.registerE;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = core.cpu.flagHalfCarry = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xAC.
         *
         * XOR H
         *
         */
		private static void Execute172(Core core)
		{
			core.cpu.registerA ^= (core.cpu.registersHL >> 8);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = core.cpu.flagHalfCarry = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xAD.
         *
         * XOR L
         *
         */
		private static void Execute173(Core core)
		{
			core.cpu.registerA ^= (core.cpu.registersHL & 0xFF);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = core.cpu.flagHalfCarry = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xAE.
         *
         * XOR (HL)
         *
         */
		private static void Execute174(Core core)
		{
			core.cpu.registerA ^= core.memory.Read(core.cpu.registersHL);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = core.cpu.flagHalfCarry = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xAF.
         *
         * XOR A
         *
         */
		private static void Execute175(Core core)
		{
			//number ^ same number == 0
			core.cpu.registerA = 0;
			core.cpu.flagZero = true;
			core.cpu.flagSubtract = core.cpu.flagHalfCarry = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xB0.
         *
         * OR B
         *
         */
		private static void Execute176(Core core)
		{
			core.cpu.registerA |= core.cpu.registerB;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = core.cpu.flagCarry = core.cpu.flagHalfCarry = false;
		}

		/**
         * Opcode #0xB1.
         *
         * OR C
         *
         */
		private static void Execute177(Core core)
		{
			core.cpu.registerA |= core.cpu.registerC;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = core.cpu.flagCarry = core.cpu.flagHalfCarry = false;
		}

		/**
         * Opcode #0xB2.
         *
         * OR D
         *
         */
		private static void Execute178(Core core)
		{
			core.cpu.registerA |= core.cpu.registerD;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = core.cpu.flagCarry = core.cpu.flagHalfCarry = false;
		}

		/**
         * Opcode #0xB3.
         *
         * OR E
         *
         */
		private static void Execute179(Core core)
		{
			core.cpu.registerA |= core.cpu.registerE;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = core.cpu.flagCarry = core.cpu.flagHalfCarry = false;
		}

		/**
         * Opcode #0xB4.
         *
         * OR H
         *
         */
		private static void Execute180(Core core)
		{
			core.cpu.registerA |= (core.cpu.registersHL >> 8);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = core.cpu.flagCarry = core.cpu.flagHalfCarry = false;
		}

		/**
         * Opcode #0xB5.
         *
         * OR L
         *
         */
		private static void Execute181(Core core)
		{
			core.cpu.registerA |= (core.cpu.registersHL & 0xFF);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = core.cpu.flagCarry = core.cpu.flagHalfCarry = false;
		}

		/**
         * Opcode #0xB6.
         *
         * OR (HL)
         *
         */
		private static void Execute182(Core core)
		{
			core.cpu.registerA |= core.memory.Read(core.cpu.registersHL);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = core.cpu.flagCarry = core.cpu.flagHalfCarry = false;
		}

		/**
         * Opcode #0xB7.
         *
         * OR A
         *
         */
		private static void Execute183(Core core)
		{
			//number | same number == same number
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = core.cpu.flagCarry = core.cpu.flagHalfCarry = false;
		}

		/**
         * Opcode #0xB8.
         *
         * CP B
         *
         */
		private static void Execute184(Core core)
		{
			long dirtySum = core.cpu.registerA - core.cpu.registerB;
			core.cpu.flagHalfCarry = (core.Unsbtub(dirtySum) & 0xF) > (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.flagZero = (dirtySum == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0xB9.
         *
         * CP C
         *
         */
		private static void Execute185(Core core)
		{
			long dirtySum = core.cpu.registerA - core.cpu.registerC;
			core.cpu.flagHalfCarry = (core.Unsbtub(dirtySum) & 0xF) > (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.flagZero = (dirtySum == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0xBA.
         *
         * CP D
         *
         */
		private static void Execute186(Core core)
		{
			long dirtySum = core.cpu.registerA - core.cpu.registerD;
			core.cpu.flagHalfCarry = (core.Unsbtub(dirtySum) & 0xF) > (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.flagZero = (dirtySum == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0xBB.
         *
         * CP E
         *
         */
		private static void Execute187(Core core)
		{
			long dirtySum = core.cpu.registerA - core.cpu.registerE;
			core.cpu.flagHalfCarry = (core.Unsbtub(dirtySum) & 0xF) > (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.flagZero = (dirtySum == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0xBC.
         *
         * CP H
         *
         */
		private static void Execute188(Core core)
		{
			long dirtySum = core.cpu.registerA - (core.cpu.registersHL >> 8);
			core.cpu.flagHalfCarry = (core.Unsbtub(dirtySum) & 0xF) > (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.flagZero = (dirtySum == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0xBD.
         *
         * CP L
         *
         */
		private static void Execute189(Core core)
		{
			long dirtySum = core.cpu.registerA - (core.cpu.registersHL & 0xFF);
			core.cpu.flagHalfCarry = (core.Unsbtub(dirtySum) & 0xF) > (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.flagZero = (dirtySum == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0xBE.
         *
         * CP (HL)
         *
         */
		private static void Execute190(Core core)
		{
			long dirtySum = core.cpu.registerA - core.memory.Read(core.cpu.registersHL);
			core.cpu.flagHalfCarry = (core.Unsbtub(dirtySum) & 0xF) > (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.flagZero = (dirtySum == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0xBF.
         *
         * CP A
         *
         */
		private static void Execute191(Core core)
		{
			core.cpu.flagHalfCarry = core.cpu.flagCarry = false;
			core.cpu.flagZero = core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0xC0.
         *
         * RET !FZ
         *
         */
		private static void Execute192(Core core)
		{
			if (!core.cpu.flagZero)
			{
				core.cpu.programCounter = (core.memory.Read((core.cpu.stackPointer + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.stackPointer);
				core.cpu.stackPointer = (core.cpu.stackPointer + 2) & 0xFFFF;
				core.CPUTicks += 3;
			}
		}

		/**
         * Opcode #0xC1.
         *
         * POP BC
         *
         */
		private static void Execute193(Core core)
		{
			core.cpu.registerC = core.memory.Read(core.cpu.stackPointer);
			core.cpu.registerB = core.memory.Read((core.cpu.stackPointer + 1) & 0xFFFF);
			core.cpu.stackPointer = (core.cpu.stackPointer + 2) & 0xFFFF;
		}

		/**
         * Opcode #0xC2.
         *
         * JP !FZ, nn
         *
         */
		private static void Execute194(Core core)
		{
			if (!core.cpu.flagZero)
			{
				core.cpu.programCounter = (core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.programCounter);
				++core.CPUTicks;
			}
			else
			{
				core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
			}
		}

		/**
         * Opcode #0xC3.
         *
         * JP nn
         *
         */
		private static void Execute195(Core core)
		{
			core.cpu.programCounter = (core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.programCounter);
		}

		/**
         * Opcode #0xC4.
         *
         * CALL !FZ, nn
         *
         */
		private static void Execute196(Core core)
		{
			if (!core.cpu.flagZero)
			{
				long temp_pc = (core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.programCounter);
				core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
				core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
				core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter >> 8);
				core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
				core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter & 0xFF);
				core.cpu.programCounter = temp_pc;
				core.CPUTicks += 3;
			}
			else
			{
				core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
			}
		}

		/**
         * Opcode #0xC5.
         *
         * PUSH BC
         *
         */
		private static void Execute197(Core core)
		{
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.registerB);
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.registerC);
		}

		/**
         * Opcode #0xC6.
         *
         * ADD, n
         *
         */
		private static void Execute198(Core core)
		{
			long dirtySum = core.cpu.registerA + core.memory.Read(core.cpu.programCounter);
			core.cpu.flagHalfCarry = (dirtySum & 0xF) < (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
		}

		/**
         * Opcode #0xC7.
         *
         * RST 0
         *
         */
		private static void Execute199(Core core)
		{
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter >> 8);
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter & 0xFF);
			core.cpu.programCounter = 0;
		}

		/**
         * Opcode #0xC8.
         *
         * RET FZ
         *
         */
		private static void Execute200(Core core)
		{
			if (core.cpu.flagZero)
			{
				core.cpu.programCounter = (core.memory.Read((core.cpu.stackPointer + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.stackPointer);
				core.cpu.stackPointer = (core.cpu.stackPointer + 2) & 0xFFFF;
				core.CPUTicks += 3;
			}
		}

		/**
         * Opcode #0xC9.
         *
         * RET
         *
         */
		private static void Execute201(Core core)
		{
			core.cpu.programCounter = (core.memory.Read((core.cpu.stackPointer + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.stackPointer);
			core.cpu.stackPointer = (core.cpu.stackPointer + 2) & 0xFFFF;
		}

		/**
         * Opcode #0xCA.
         *
         * JP FZ, nn
         *
         */
		private static void Execute202(Core core)
		{
			if (core.cpu.flagZero)
			{
				core.cpu.programCounter = (core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.programCounter);
				++core.CPUTicks;
			}
			else
				core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
		}

		/**
         * Opcode #0xCB.
         *
         * Secondary OP Code Set:
         *
         */
		private static void Execute203(Core core)
		{
			long opcode = core.memory.Read(core.cpu.programCounter);
			//Increment the program counter to the next instruction:
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
			//Get how many CPU cycles the current 0xCBXX op code counts for:
			core.CPUTicks = TICKTables.secondary[opcode];
			//Execute secondary OP codes for the 0xCB OP code call.
			ExtendedVM.Execute(core, opcode);
		}

		/**
         * Opcode #0xCC.
         *
         * CALL FZ, nn
         *
         */
		private static void Execute204(Core core)
		{
			if (core.cpu.flagZero)
			{
				long temp_pc = (core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.programCounter);
				core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
				core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
				core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter >> 8);
				core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
				core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter & 0xFF);
				core.cpu.programCounter = temp_pc;
				core.CPUTicks += 3;
			}
			else
			{
				core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
			}
		}

		/**
         * Opcode #0xCD.
         *
         * CALL nn
         *
         */
		private static void Execute205(Core core)
		{
			long temp_pc = (core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.programCounter);
			core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter >> 8);
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter & 0xFF);
			core.cpu.programCounter = temp_pc;
		}

		/**
         * Opcode #0xCE.
         *
         * ADC A, n
         *
         */
		private static void Execute206(Core core)
		{
			long tempValue = core.memory.Read(core.cpu.programCounter);
			long dirtySum = core.cpu.registerA + tempValue + (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) + (tempValue & 0xF) + ((core.cpu.flagCarry) ? 1 : 0) > 0xF);
			core.cpu.flagCarry = (dirtySum > 0xFF);
			core.cpu.registerA = dirtySum & 0xFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = false;
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
		}

		/**
         * Opcode #0xCF.
         *
         * RST 0x8
         *
         */
		private static void Execute207(Core core)
		{
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter >> 8);
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter & 0xFF);
			core.cpu.programCounter = 0x8;
		}

		/**
         * Opcode #0xD0.
         *
         * RET !FC
         *
         */
		private static void Execute208(Core core)
		{
			if (!core.cpu.flagCarry)
			{
				core.cpu.programCounter = (core.memory.Read((core.cpu.stackPointer + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.stackPointer);
				core.cpu.stackPointer = (core.cpu.stackPointer + 2) & 0xFFFF;
				core.CPUTicks += 3;
			}
		}

		/**
         * Opcode #0xD1.
         *
         * POP DE
         *
         */
		private static void Execute209(Core core)
		{
			core.cpu.registerE = core.memory.Read(core.cpu.stackPointer);
			core.cpu.registerD = core.memory.Read((core.cpu.stackPointer + 1) & 0xFFFF);
			core.cpu.stackPointer = (core.cpu.stackPointer + 2) & 0xFFFF;
		}

		/**
         * Opcode #0xD2.
         *
         * JP !FC, nn
         *
         */
		private static void Execute210(Core core)
		{
			if (!core.cpu.flagCarry)
			{
				core.cpu.programCounter = (core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.programCounter);
				++core.CPUTicks;
			}
			else
			{
				core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
			}
		}

		/**
         * Opcode #0xD3.
         *
         * 0xD3 - Illegal
         *
         */
		private static void Execute211(Core core)
		{
			// @TODO
			// cout("Illegal op code 0xD3 called, pausing emulation.", 2);
			// pause();
		}

		/**
         * Opcode #0xD4.
         *
         * CALL !FC, nn
         *
         */
		private static void Execute212(Core core)
		{
			if (!core.cpu.flagCarry)
			{
				long temp_pc = (core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.programCounter);
				core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
				core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
				core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter >> 8);
				core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
				core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter & 0xFF);
				core.cpu.programCounter = temp_pc;
				core.CPUTicks += 3;
			}
			else
			{
				core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
			}
		}

		/**
         * Opcode #0xD5.
         *
         * PUSH DE
         *
         */
		private static void Execute213(Core core)
		{
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.registerD);
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.registerE);
		}

		/**
         * Opcode #0xD6.
         *
         * SUB A, n
         *
         */
		private static void Execute214(Core core)
		{
			long temp_var = core.memory.Read(core.cpu.programCounter);
			long dirtySum = core.cpu.registerA - temp_var;
			core.cpu.flagHalfCarry = (core.cpu.registerA & 0xF) < (temp_var & 0xF);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.registerA = core.Unsbtub(dirtySum);
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0xD7.
         *
         * RST 0x10
         *
         */
		private static void Execute215(Core core)
		{
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter >> 8);
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter & 0xFF);
			core.cpu.programCounter = 0x10;
		}

		/**
         * Opcode #0xD8.
         *
         * RET FC
         *
         */
		private static void Execute216(Core core)
		{
			if (core.cpu.flagCarry)
			{
				core.cpu.programCounter = (core.memory.Read((core.cpu.stackPointer + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.stackPointer);
				core.cpu.stackPointer = (core.cpu.stackPointer + 2) & 0xFFFF;
				core.CPUTicks += 3;
			}
		}

		/**
         * Opcode #0xD9.
         *
         * RETI
         *
         */
		private static void Execute217(Core core)
		{
			core.cpu.programCounter = (core.memory.Read((core.cpu.stackPointer + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.stackPointer);
			core.cpu.stackPointer = (core.cpu.stackPointer + 2) & 0xFFFF;
			//core.IME = true;
			core.untilEnable = 2;
		}

		/**
         * Opcode #0xDA.
         *
         * JP FC, nn
         *
         */
		private static void Execute218(Core core)
		{
			if (core.cpu.flagCarry)
			{
				core.cpu.programCounter = (core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.programCounter);
				++core.CPUTicks;
			}
			else
			{
				core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
			}
		}

		/**
         * Opcode #0xDB.
         *
         * 0xDB - Illegal
         *
         */
		private static void Execute219(Core core)
		{
			//echo 'Illegal op code 0xDB called, pausing emulation.';
			//exit();
		}

		/**
         * Opcode #0xDC.
         *
         * CALL FC, nn
         *
         */
		private static void Execute220(Core core)
		{
			if (core.cpu.flagCarry)
			{
				long temp_pc = (core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.programCounter);
				core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
				core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
				core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter >> 8);
				core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
				core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter & 0xFF);
				core.cpu.programCounter = temp_pc;
				core.CPUTicks += 3;
			}
			else
			{
				core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
			}
		}

		/**
         * Opcode #0xDD.
         *
         * 0xDD - Illegal
         *
         */
		private static void Execute221(Core core)
		{
			//echo 'Illegal op code 0xDD called, pausing emulation.';
			//exit();
		}

		/**
         * Opcode #0xDE.
         *
         * SBC A, n
         *
         */
		private static void Execute222(Core core)
		{
			long temp_var = core.memory.Read(core.cpu.programCounter);
			long dirtySum = core.cpu.registerA - temp_var - (long)((core.cpu.flagCarry) ? 1 : 0);
			core.cpu.flagHalfCarry = ((core.cpu.registerA & 0xF) - (temp_var & 0xF) - ((core.cpu.flagCarry) ? 1 : 0) < 0);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.registerA = core.Unsbtub(dirtySum);
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0xDF.
         *
         * RST 0x18
         *
         */
		private static void Execute223(Core core)
		{
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter >> 8);
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter & 0xFF);
			core.cpu.programCounter = 0x18;
		}

		/**
         * Opcode #0xE0.
         *
         * LDH (n), A
         *
         */
		private static void Execute224(Core core)
		{
			core.memory.Write(0xFF00 + core.memory.Read(core.cpu.programCounter), core.cpu.registerA);
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
		}

		/**
         * Opcode #0xE1.
         *
         * POP HL
         *
         */
		private static void Execute225(Core core)
		{
			core.cpu.registersHL = (core.memory.Read((core.cpu.stackPointer + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.stackPointer);
			core.cpu.stackPointer = (core.cpu.stackPointer + 2) & 0xFFFF;
		}

		/**
         * Opcode #0xE2.
         *
         * LD (C), A
         *
         */
		private static void Execute226(Core core)
		{
			core.memory.Write(0xFF00 + core.cpu.registerC, core.cpu.registerA);
		}

		/**
         * Opcode #0xE3.
         *
         * 0xE3 - Illegal
         *
         */
		private static void Execute227(Core core)
		{
			//echo 'Illegal op code 0xE3 called, pausing emulation.';
			//exit();
		}

		/**
         * Opcode #0xE4.
         *
         * 0xE4 - Illegal
         *
         */
		private static void Execute228(Core core)
		{
			//echo 'Illegal op code 0xE4 called, pausing emulation.';
			//exit();
		}

		/**
         * Opcode #0xE5.
         *
         * PUSH HL
         *
         */
		private static void Execute229(Core core)
		{
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.registersHL >> 8);
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.registersHL & 0xFF);
		}

		/**
         * Opcode #0xE6.
         *
         * AND n
         *
         */
		private static void Execute230(Core core)
		{
			core.cpu.registerA &= core.memory.Read(core.cpu.programCounter);
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.flagHalfCarry = true;
			core.cpu.flagSubtract = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xE7.
         *
         * RST 0x20
         *
         */
		private static void Execute231(Core core)
		{
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter >> 8);
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter & 0xFF);
			core.cpu.programCounter = 0x20;
		}

		/**
         * Opcode #0xE8.
         *
         * ADD SP, n
         *
         */
		private static void Execute232(Core core)
		{
			long signedByte = core.Usbtsb(core.memory.Read(core.cpu.programCounter));
			long temp_value = core.Nswtuw(core.cpu.stackPointer + signedByte);
			core.cpu.flagCarry = (((core.cpu.stackPointer ^ signedByte ^ temp_value) & 0x100) == 0x100);
			core.cpu.flagHalfCarry = (((core.cpu.stackPointer ^ signedByte ^ temp_value) & 0x10) == 0x10);
			core.cpu.stackPointer = temp_value;
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
			core.cpu.flagZero = core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0xE9.
         *
         * JP, (HL)
         *
         */
		private static void Execute233(Core core)
		{
			core.cpu.programCounter = core.cpu.registersHL;
		}

		/**
         * Opcode #0xEA.
         *
         * LD n, A
         *
         */
		private static void Execute234(Core core)
		{
			core.memory.Write((core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.programCounter), core.cpu.registerA);
			core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
		}

		/**
         * Opcode #0xEB.
         *
         * 0xEB - Illegal
         *
         */
		private static void Execute235(Core core)
		{
			//echo 'Illegal op code 0xEB called, pausing emulation.';
			//exit();
		}

		/**
         * Opcode #0xEC.
         *
         * 0xEC - Illegal
         *
         */
		private static void Execute236(Core core)
		{
			//echo 'Illegal op code 0xEC called, pausing emulation.';
			//exit();
		}

		/**
         * Opcode #0xED.
         *
         * 0xED - Illegal
         *
         */
		private static void Execute237(Core core)
		{
			//echo 'Illegal op code 0xED called, pausing emulation.';
			//exit();
		}

		/**
         * Opcode #0xEE.
         *
         * XOR n
         *
         */
		private static void Execute238(Core core)
		{
			core.cpu.registerA ^= core.memory.Read(core.cpu.programCounter);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
			core.cpu.flagSubtract = core.cpu.flagHalfCarry = core.cpu.flagCarry = false;
		}

		/**
         * Opcode #0xEF.
         *
         * RST 0x28
         *
         */
		private static void Execute239(Core core)
		{
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter >> 8);
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter & 0xFF);
			core.cpu.programCounter = 0x28;
		}

		/**
         * Opcode #0xF0.
         *
         * LDH A, (n)
         *
         */
		private static void Execute240(Core core)
		{
			core.cpu.registerA = core.memory.Read(0xFF00 + core.memory.Read(core.cpu.programCounter));
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
		}

		/**
         * Opcode #0xF1.
         *
         * POP AF
         *
         */
		private static void Execute241(Core core)
		{
			long temp_var = core.memory.Read(core.cpu.stackPointer);
			core.cpu.flagZero = ((temp_var & 0x80) == 0x80);
			core.cpu.flagSubtract = ((temp_var & 0x40) == 0x40);
			core.cpu.flagHalfCarry = ((temp_var & 0x20) == 0x20);
			core.cpu.flagCarry = ((temp_var & 0x10) == 0x10);
			core.cpu.registerA = core.memory.Read((core.cpu.stackPointer + 1) & 0xFFFF);
			core.cpu.stackPointer = (core.cpu.stackPointer + 2) & 0xFFFF;
		}

		/**
         * Opcode #0xF2.
         *
         * LD A, (C)
         *
         */
		private static void Execute242(Core core)
		{
			core.cpu.registerA = core.memory.Read(0xFF00 + core.cpu.registerC);
		}

		/**
         * Opcode #0xF3.
         *
         * DI
         *
         */
		private static void Execute243(Core core)
		{
			core.IME = false;
			core.untilEnable = 0;
		}

		/**
         * Opcode #0xF4.
         *
         * 0xF4 - Illegal
         *
         */
		private static void Execute244(Core core)
		{
			// @TODO
			// cout("Illegal op code 0xF4 called, pausing emulation.", 2);
			// pause();
		}

		/**
         * Opcode #0xF5.
         *
         * PUSH AF
         *
         */
		private static void Execute245(Core core)
		{
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.registerA);
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, (long)(((core.cpu.flagZero) ? 0x80 : 0) + ((core.cpu.flagSubtract) ? 0x40 : 0) + ((core.cpu.flagHalfCarry) ? 0x20 : 0) + ((core.cpu.flagCarry) ? 0x10 : 0)));
		}

		/**
         * Opcode #0xF6.
         *
         * OR n
         *
         */
		private static void Execute246(Core core)
		{
			core.cpu.registerA |= core.memory.Read(core.cpu.programCounter);
			core.cpu.flagZero = (core.cpu.registerA == 0);
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
			core.cpu.flagSubtract = core.cpu.flagCarry = core.cpu.flagHalfCarry = false;
		}

		/**
         * Opcode #0xF7.
         *
         * RST 0x30
         *
         */
		private static void Execute247(Core core)
		{
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter >> 8);
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter & 0xFF);
			core.cpu.programCounter = 0x30;
		}

		/**
         * Opcode #0xF8.
         *
         * LDHL SP, n
         *
         */
		private static void Execute248(Core core)
		{
			long signedByte = core.Usbtsb(core.memory.Read(core.cpu.programCounter));
			core.cpu.registersHL = core.Nswtuw(core.cpu.stackPointer + signedByte);
			core.cpu.flagCarry = (((core.cpu.stackPointer ^ signedByte ^ core.cpu.registersHL) & 0x100) == 0x100);
			core.cpu.flagHalfCarry = (((core.cpu.stackPointer ^ signedByte ^ core.cpu.registersHL) & 0x10) == 0x10);
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
			core.cpu.flagZero = core.cpu.flagSubtract = false;
		}

		/**
         * Opcode #0xF9.
         *
         * LD SP, HL
         *
         */
		private static void Execute249(Core core)
		{
			core.cpu.stackPointer = core.cpu.registersHL;
		}

		/**
         * Opcode #0xFA.
         *
         * LD A, (nn)
         *
         */
		private static void Execute250(Core core)
		{
			core.cpu.registerA = core.memory.Read((core.memory.Read((core.cpu.programCounter + 1) & 0xFFFF) << 8) + core.memory.Read(core.cpu.programCounter));
			core.cpu.programCounter = (core.cpu.programCounter + 2) & 0xFFFF;
		}

		/**
         * Opcode #0xFB.
         *
         * EI
         *
         */
		private static void Execute251(Core core)
		{
			core.untilEnable = 2;
		}

		/**
         * Opcode #0xFC.
         *
         * 0xFC - Illegal
         *
         */
		private static void Execute252(Core core)
		{
			//echo 'Illegal op code 0xFC called, pausing emulation.';
			//exit();
		}

		/**
         * Opcode #0xFD.
         *
         * 0xFD - Illegal
         *
         */
		private static void Execute253(Core core)
		{
			//echo 'Illegal op code 0xFD called, pausing emulation.';
			//exit();
		}

		/**
         * Opcode #0xFE.
         *
         * CP n
         *
         */
		private static void Execute254(Core core)
		{
			long dirtySum = core.cpu.registerA - core.memory.Read(core.cpu.programCounter);
			core.cpu.flagHalfCarry = (core.Unsbtub(dirtySum) & 0xF) > (core.cpu.registerA & 0xF);
			core.cpu.flagCarry = (dirtySum < 0);
			core.cpu.flagZero = (dirtySum == 0);
			core.cpu.programCounter = (core.cpu.programCounter + 1) & 0xFFFF;
			core.cpu.flagSubtract = true;
		}

		/**
         * Opcode #0xFF.
         *
         * RST 0x38
         *
         */
		private static void Execute255(Core core)
		{
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter >> 8);
			core.cpu.stackPointer = core.Unswtuw(core.cpu.stackPointer - 1);
			core.memory.Write(core.cpu.stackPointer, core.cpu.programCounter & 0xFF);
			core.cpu.programCounter = 0x38;
		}
	}
}